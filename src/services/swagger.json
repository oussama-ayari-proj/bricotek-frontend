{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8083","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/users/modifyUser":{"put":{"tags":["Users"],"operationId":"modifyUser","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"request","in":"query","required":true,"schema":{"$ref":"#/components/schemas/RegistrationRequest"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/outils/modifyOutil":{"put":{"tags":["Outils"],"operationId":"modifyOutil","parameters":[{"name":"outilsId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"outil","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Outil"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/outils/addimage":{"post":{"tags":["Outils"],"operationId":"uploadImage","parameters":[{"name":"outil_id","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["image"],"type":"object","properties":{"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/outils/addOutil":{"post":{"tags":["Outils"],"operationId":"addOutil","parameters":[{"name":"outil","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Outil"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/register":{"post":{"tags":["Authentication"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationRequest"}}},"required":true},"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/forgot-password/{email}":{"post":{"tags":["Authentication"],"operationId":"changePassword","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}},{"name":"newPassword","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/authenticate":{"post":{"tags":["Authentication"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/users/getUsers":{"get":{"tags":["Users"],"operationId":"getUsers","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/outils/{id}":{"get":{"tags":["Outils"],"operationId":"getImageByName","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/outils/outilById":{"get":{"tags":["Outils"],"operationId":"getById","parameters":[{"name":"outilsId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/outils/allOutils":{"get":{"tags":["Outils"],"operationId":"getAllOutils","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/users/deleteUser":{"delete":{"tags":["Users"],"operationId":"deleteUser","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/outils":{"delete":{"tags":["Outils"],"operationId":"deleteOutil","parameters":[{"name":"outilId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"RegistrationRequest":{"required":["email","nom","password","prenom"],"type":"object","properties":{"nom":{"type":"string"},"prenom":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"adresse":{"type":"string"},"numTel":{"type":"string"},"dateOfBirth":{"type":"string","format":"date-time"},"role":{"type":"string","enum":["USER","ADMIN"]},"cotisation":{"type":"boolean"}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"ImageData":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"type":{"type":"string"},"imageData":{"type":"array","items":{"type":"string","format":"byte"}}}},"Outil":{"type":"object","properties":{"outilId":{"type":"integer","format":"int64"},"imgPath":{"type":"string"},"videoPath":{"type":"string"},"etat":{"type":"boolean"},"nom":{"type":"string"},"categorieOutils":{"type":"string","enum":["CAT1","CAT2"]},"prets":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Pret"}},"imageData":{"$ref":"#/components/schemas/ImageData"}}},"Pret":{"type":"object","properties":{"pretId":{"type":"integer","format":"int32"},"dateRetour":{"type":"string","format":"date-time"},"user":{"$ref":"#/components/schemas/User"},"outil":{"$ref":"#/components/schemas/Outil"}}},"User":{"type":"object","properties":{"userId":{"type":"integer","format":"int32"},"nom":{"type":"string"},"prenom":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"cotisation":{"type":"boolean"},"addresse":{"type":"string"},"numTel":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN"]},"enabled":{"type":"boolean"},"dateOfBirth":{"type":"string","format":"date-time"},"prets":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Pret"}},"name":{"type":"string"},"username":{"type":"string"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"accountNonExpired":{"type":"boolean"}}},"AuthenticationRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","name":"bearerAuth","scheme":"bearer","bearerFormat":"JWT"}}}}
